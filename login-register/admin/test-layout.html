<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>布局测试 - 餐饮管理系统</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/admin/admin-common.css">
</head>
<body>
    <!-- 引入布局管理器 -->
    <script src="../js/admin-layout.js"></script>
    
    <!-- 测试页面脚本 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                initTestPage();
            }, 100);
        });

        function initTestPage() {
            adminLayout.setPageTitle('布局系统测试');
            
            const content = `
                <div class="admin-content-card">
                    <div class="admin-content-card-header">
                        <h2 class="admin-content-card-title">🧪 布局系统测试页面</h2>
                    </div>
                    <div class="admin-content-card-body">
                        <div style="margin-bottom: 30px;">
                            <h3>✅ 测试项目</h3>
                            <ul style="margin: 15px 0; padding-left: 20px;">
                                <li>✅ 顶部导航栏自动渲染</li>
                                <li>✅ 侧边栏菜单自动渲染</li>
                                <li>✅ 面包屑导航自动渲染</li>
                                <li>✅ 用户信息显示</li>
                                <li>✅ 页面标题设置</li>
                                <li>✅ 响应式布局</li>
                            </ul>
                        </div>

                        <div style="margin-bottom: 30px;">
                            <h3>🎛️ 功能测试</h3>
                            <div style="display: flex; gap: 15px; flex-wrap: wrap; margin: 15px 0;">
                                <button class="btn btn-primary" onclick="testLoading()">测试加载状态</button>
                                <button class="btn btn-warning" onclick="testError()">测试错误显示</button>
                                <button class="btn btn-success" onclick="testPageTitle()">测试标题更新</button>
                                <button class="btn btn-info" onclick="testUserInfo()">测试用户信息</button>
                            </div>
                        </div>

                        <div style="margin-bottom: 30px;">
                            <h3>📊 组件样式测试</h3>
                            
                            <!-- 统计卡片测试 -->
                            <h4 style="margin: 20px 0 10px 0;">统计卡片</h4>
                            <div class="admin-stats-grid">
                                <div class="admin-stat-card primary">
                                    <h3 class="admin-stat-title">主要统计</h3>
                                    <div class="admin-stat-number">1,234</div>
                                </div>
                                <div class="admin-stat-card success">
                                    <h3 class="admin-stat-title">成功统计</h3>
                                    <div class="admin-stat-number">567</div>
                                </div>
                                <div class="admin-stat-card warning">
                                    <h3 class="admin-stat-title">警告统计</h3>
                                    <div class="admin-stat-number">89</div>
                                </div>
                                <div class="admin-stat-card danger">
                                    <h3 class="admin-stat-title">危险统计</h3>
                                    <div class="admin-stat-number">12</div>
                                </div>
                            </div>

                            <!-- 工具栏测试 -->
                            <h4 style="margin: 20px 0 10px 0;">工具栏</h4>
                            <div class="admin-toolbar">
                                <div class="admin-toolbar-left">
                                    <div class="admin-search-box">
                                        <span class="admin-search-icon">🔍</span>
                                        <input class="admin-search-input" type="text" placeholder="搜索测试...">
                                    </div>
                                    <div class="admin-filters">
                                        <select class="admin-filter-select">
                                            <option>全部类型</option>
                                            <option>类型1</option>
                                            <option>类型2</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="admin-toolbar-right">
                                    <button class="btn btn-success">➕ 添加</button>
                                    <button class="btn btn-primary">📤 导出</button>
                                </div>
                            </div>

                            <!-- 数据表格测试 -->
                            <h4 style="margin: 20px 0 10px 0;">数据表格</h4>
                            <table class="admin-data-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>名称</th>
                                        <th>状态</th>
                                        <th>创建时间</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>#001</strong></td>
                                        <td>测试项目1</td>
                                        <td><span class="badge badge-success">正常</span></td>
                                        <td>2024-01-01 12:00:00</td>
                                        <td>
                                            <button class="admin-action-btn primary">编辑</button>
                                            <button class="admin-action-btn danger">删除</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>#002</strong></td>
                                        <td>测试项目2</td>
                                        <td><span class="badge badge-warning">待审核</span></td>
                                        <td>2024-01-02 14:30:00</td>
                                        <td>
                                            <button class="admin-action-btn primary">编辑</button>
                                            <button class="admin-action-btn danger">删除</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- 分页测试 -->
                            <div class="admin-pagination">
                                <span class="admin-pagination-info">显示 1-2 条，共 2 条记录</span>
                                <button class="admin-pagination-btn" disabled>上一页</button>
                                <button class="admin-pagination-btn active">1</button>
                                <button class="admin-pagination-btn" disabled>下一页</button>
                            </div>
                        </div>

                        <div style="margin-bottom: 30px;">
                            <h3>📱 响应式测试</h3>
                            <p>请尝试调整浏览器窗口大小，观察布局的响应式变化。</p>
                        </div>

                        <div class="alert alert-success">
                            <strong>🎉 恭喜！</strong> 如果您能看到这个页面并且所有样式都正常显示，说明Admin组件化系统工作正常！
                        </div>
                    </div>
                </div>
            `;
            
            adminLayout.setPageContent(content);
        }

        // 测试功能
        function testLoading() {
            adminLayout.showLoading();
            setTimeout(() => {
                initTestPage();
            }, 2000);
        }

        function testError() {
            adminLayout.showError('这是一个测试错误消息');
            setTimeout(() => {
                initTestPage();
            }, 3000);
        }

        function testPageTitle() {
            const titles = ['新标题1', '新标题2', '新标题3', '布局系统测试'];
            let index = 0;
            const interval = setInterval(() => {
                adminLayout.setPageTitle(titles[index]);
                index++;
                if (index >= titles.length) {
                    clearInterval(interval);
                }
            }, 1000);
        }

        function testUserInfo() {
            const users = ['测试用户1', '测试用户2', 'Admin', '管理员'];
            let index = 0;
            const interval = setInterval(() => {
                adminLayout.updateUserInfo(users[index]);
                index++;
                if (index >= users.length) {
                    clearInterval(interval);
                }
            }, 1000);
        }
    </script>
</body>
</html>
